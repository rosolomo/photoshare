<!doctype html>

<title>photos!</title>

<ul>
    <li><a href='/profile'>Profile</a></li>
    <li><a href='/upload'>Upload a photo</a> </li>
    <li><a href='/logout'>Logout</a></li>
    <li><a href='/'>Home</a></li>
</ul>

{% if name %}
<h1>Hello {{ name }}!</h1>
<form method='post' action="/commentsearch">
    <input type="text" placeholder="search comments" name="commentsearch">
    <button type="submit">Submit</button>
</form>
<h2 id="mpb"><button onclick="togglePhotos()">View My Photos</button></h2>
<h2 id="apb"><button onclick="togglePhotos()">View All Photos</button></h2>
<div id="myP">
    {% if myPhotos %}
    <h2>Here are your photos</h2>
    <ul>
        <table>
            {% for photo in myPhotos %}
            <tr>
                <td>{{photo[2]}}</td>
            </tr>
            <tr>
                <td><img src='data:image/jpg;base64, {{ photo[0] }}' /></td>
            </tr>
            {% endfor %}
        </table>
    </ul>
    {% else %}
    <h2> You don't have any photos available</h2>
    {% endif %}
</div>
{% endif %}



{% if photos %}
<div id="allP">
    <h2>Here are all photos</h2>
    <ul>
        <table>
            {% for photo in photos %}
            <tr>
                <td>{{photo[2]}}</td>
            </tr>
            <tr>
                <td><img src='data:image/jpg;base64, {{ photo[0] }}' /></td>
            </tr>
            {% endfor %}
        </table>
    </ul>

    {% else %}
    <h2> No photos available for display</h2>
</div>
{% endif %}






<script>
    function togglePhotos() {
        var u = document.getElementById("allP");
        var x = document.getElementById("myP");
        var y = document.getElementById("apb");
        var z = document.getElementById("mpb");

        if (x.style.display === "none") {
            x.style.display = "block";
            u.style.display = "none";
            z.style.display = "block";
            y.style.display = "none";

        } else {
            x.style.display = "none";
            u.style.display = "block";
            z.style.display = "none";
            y.style.display = "block";
        }

    }
</script>